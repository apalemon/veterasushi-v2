[build]
  publish = "."
  functions = "netlify/functions"
  
[functions]
  node_bundler = "esbuild"

# Redirects para funções serverless
[[redirects]]
  from = "/api/database"
  to = "/.netlify/functions/database"
  status = 200
  force = true

[[redirects]]
  from = "/api/pedidos"
  to = "/.netlify/functions/pedidos"
  status = 200
  force = true

[[redirects]]
  from = "/api/usuarios"
  to = "/.netlify/functions/usuarios"
  status = 200
  force = true

[[redirects]]
  from = "/api/cupons"
  to = "/.netlify/functions/cupons"
  status = 200
  force = true

[[redirects]]
  from = "/api/cupons/validar"
  to = "/.netlify/functions/cupons-validar"
  status = 200
  force = true

[[redirects]]
  from = "/api/auth/login"
  to = "/.netlify/functions/auth-login"
  status = 200
  force = true

[[redirects]]
  from = "/api/upload-imagem"
  to = "/.netlify/functions/upload-imagem"
  status = 200
  force = true

[[redirects]]
  from = "/api/produtos"
  to = "/.netlify/functions/produtos"
  status = 200
  force = true
